# Spark SQL Configuration
spark.sql.catalogImplementation=hive
spark.sql.catalog.spark_catalog=org.apache.spark.sql.delta.catalog.DeltaCatalog
spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension
spark.sql.warehouse.dir=/opt/hive/warehouse

# Hive Warehouse (needed for enableHiveSupport())
spark.hadoop.hive.metastore.warehouse.dir=/opt/hive/warehouse

# JARs (Delta Lake, Hadoop AWS, AWS SDK)
spark.jars=/workspace/jars/delta-spark_2.13-4.0.0.jar,/workspace/jars/delta-storage-4.0.0.jar,/workspace/jars/hadoop-aws-3.4.0.jar,/workspace/jars/bundle-2.25.60.jar

# Event Logging
spark.eventLog.enabled=true
spark.eventLog.dir=/tmp/spark-events
spark.eventLog.compress=true
spark.eventLog.rolling.enabled=true
spark.eventLog.rolling.maxFileSize=128m

# History Server
spark.history.fs.logDirectory=/tmp/spark-events
spark.history.ui.showIncomplete=true

# Master
spark.master=spark://spark-master:7077

